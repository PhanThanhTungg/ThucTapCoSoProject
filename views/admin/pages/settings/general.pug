extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main
  if(role.permissions.includes("settings_view"))
    h1.page-title Cài đặt chung

    form(
      action=`${prefixAdmin}/settings/general?_method=PATCH`
      method="POST"
      enctype="multipart/form-data"
    )
      div(class="form-group")
        label(for="websiteName") Tên website
        input(
          type="text"
          class="form-control"
          id="websiteName"
          name="websiteName"
          value=(settingsGeneral ? settingsGeneral.websiteName : "")
        )
      div(
        class="form-group"
        upload-image
      )
        label(for="logo") Logo
        input(
          type="file"
          class="form-control-file"
          id="logo"
          name="logo"
          accept="image/*"
          upload-image-input
        )
        img(
          src=(settingsGeneral ? settingsGeneral.logo : "")
          class="image-preview"
          upload-image-preview
        )
      div(class="form-group")
        label(for="phone") Số điện thoại
        input(
          type="text"
          class="form-control"
          id="phone"
          name="phone"
          value=(settingsGeneral ? settingsGeneral.phone : "")
        )
      div(class="form-group")
        label(for="email") Email
        input(
          type="email"
          class="form-control"
          id="email"
          name="email"
          value=(settingsGeneral ? settingsGeneral.email : "")
        )
      div(class="form-group")
        label(for="address") Địa chỉ
        input(
          type="text"
          class="form-control"
          id="address"
          name="address"
          value=(settingsGeneral ? settingsGeneral.address : "")
        )
      div(class="form-group")
        label(for="copyright") Copyright
        input(
          type="text"
          class="form-control"
          id="copyright"
          name="copyright"
          value=(settingsGeneral ? settingsGeneral.copyright : "")
        )
      if(role.permissions.includes("settings_edit"))
        div(class="form-group" style= "margin-bottom: 0")
          button(
            type="submit"
            class="btn btn-primary button-1"
            style= "margin-bottom: 10px"
          ) Cập nhật